<div class="high-scores-container">
  <div class="high-scores-header">
    <h2>PUNTUACIONES ALTAS</h2>
    <!-- <div class="status-indicator">
      <span *ngIf="isConnectedToApi" class="api-status connected">üü¢ Conectado a BD</span>
      <span *ngIf="!isConnectedToApi" class="api-status disconnected">üî¥ Sin conexi√≥n BD</span>
      <button *ngIf="!isLoading" class="refresh-button" (click)="refreshScores()" title="Actualizar puntajes">
        üîÑ
      </button>
    </div> -->
    <div class="ghost-decoration">
      <div class="ghost ghost-blinky"></div>
      <div class="ghost ghost-pinky"></div>
      <div class="ghost ghost-inky"></div>
      <div class="ghost ghost-clyde"></div>
    </div>
  </div>

  <div class="scores-table">
    <div class="table-header">
      <span class="rank-col">RANGO</span>
      <span class="player-col">JUGADOR</span>
      <span class="score-col">PUNTUACI√ìN</span>
      <span class="date-col">FECHA</span>
    </div>
    
    <div class="scores-list">
      <!-- Loading indicator -->
      <div *ngIf="isLoading" class="loading-indicator">
        <div class="spinner"></div>
        <p>Cargando puntuaciones...</p>
      </div>

      <!-- Error message -->
      <div *ngIf="errorMessage && !isLoading" class="error-message">
        <p>{{ errorMessage }}</p>
      </div>

      <!-- Scores table -->
      <table *ngIf="!isLoading">
        <tr *ngFor="let score of highScores; trackBy: trackByScore" 
            class="score-row {{ score.rank === 1 ? 'top-score' : '' }} {{ isRecentScore(score) ? 'recent-score' : '' }}">
          <td class="rank">{{ score.rank }}</td>
          <td class="player">{{ score.playerName || 'Player 1' }}</td>
          <td class="score">{{ score.score | number }}</td>
          <td class="date">{{ score.date }}</td>
        </tr>
      </table>
      
      <div *ngIf="highScores.length === 0 && !isLoading" class="no-scores">
        <p>¬°No hay puntuaciones a√∫n!</p>
        <p>¬°Juega tu primera partida para establecer un r√©cord!</p>
      </div>
    </div>
  </div>

  <div class="high-scores-footer">
    <button class="back-button" (click)="goBack()">
      ‚Üê VOLVER AL MEN√ö
    </button>
    <button class="clear-button" (click)="clearScores()" *ngIf="highScores.length > 0">
      LIMPIAR PUNTUACIONES
    </button>
  </div>
</div>
